# Социальная сеть

## Описание

Социальная сеть, где пользователи могут создавать аккаунты, публиковать обновления и комментировать посты других пользователей.

## Функции

* Аутентификация и авторизация пользователей с помощью встроенной системы Django
* Возможность публиковать и комментировать посты для авторизованных пользователей
* Валидация данных пользователей с помощью пользовательских валидаторов
* Административная панель для управления пользователями, постами и комментариями
* Фильтрация и сортировка постов по дате создания

## Технические требования

* Python 3.8+
* Django 3.2+
* Django REST framework 3.12+
* PostgreSQL 10+
* Swagger 3.0+

## Установка

1. Клонировать репозиторий: `git clone https://github.com/dim4ik1985/web_posts.git`
2. Переходим в папку проекта: `cd web_posts/`
3. Проверяем версию poetry: `poetry --version`
4. Если не установлено, установить poetry: `curl -sSL https://install.python-poetry.org | python3 -`
5. Установить зависимости: `poetry install`
6. Активировать виртуальное окружение: `source $(poetry env info --path)/bin/activate`
7. Создать базу данных `postgresql`
8. В корне проекта создаем файл `.env`
    ```.dotenv
    SECRET_KEY='some secret key'
    DEBUG=bool(True or False)    # True debug, False release
    DB_NAME='name_of_database'
    DB_USER='username'
    DB_PASSWORD='password'
    DB_HOST='localhost'
    DB_PORT='port'
    ```
9. Выполнить миграции: `poetry run python manage.py migrate`
10. Создать админа `poetry run python manage.py createsuperuser`
11. Запустить сервер разработки: `poetry run python manage.py runserver`


## ЭНДПОИНТЫ

### Пользователи

* CREATE: `/users/` ( регистрация )
* READ: `/users/` ( администратор/авторизованные пользователи )
* UPDATE: `/users/<pk>/` ( администратор/пользователь может редактировать только себя )
* DELETE: `/users/<pk>/` ( администратор )

### Посты

* CREATE: `/posts/` ( авторизованные пользователи )
* READ: `/posts/` ( все пользователи )
* UPDATE: `/posts/<pk>/` ( администратор/пользователь может редактировать только себя )
* DELETE: `/posts/<pk>/` ( администратор/пользователь может удалять свои посты )

### Комментарии

* CREATE: `/comments/` ( авторизованные пользователи )
* READ: `/comments/` ( все пользователи )
* UPDATE: `/comments/<pk>/` ( администратор/пользователь может редактировать только себя )
* DELETE: `/comments/<pk>/` ( администратор/пользователь может удалять свои комментарии )

## Валидаторы

### Модель пользователя

* Валидатор пароля: минимум 8 символов, должен содержать цифры.
* Валидатор электронной почты: разрешены домены `mail.ru` и `yandex.ru`.

### Модель поста

* Валидатор возраста автора: должен быть не менее 18 лет.
* Валидатор заголовка: не может содержать запрещенные слова (`ерунда`, `глупость`, `чепуха`).

## Административная панель

* Добавить ссылку на профиль автора в объекте поста.
* Добавить фильтр по дате создания в объекте поста.
